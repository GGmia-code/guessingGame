<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple-Question Quiz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Poppins:wght@300;400;500;600&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        button {
            transition: all 0.5s;
            transform: rotate(0deg);
        }
        
        .clicked {
            background: gray;
        }
        .clicked.correct {
            background: green;
            transform: rotate(360deg);
        }

        .question {
            display: none;
        }

        .question.active {
            display: block;
        
        }
    </style>
</head>
<body>
    <div class="header">
        <img src="images/Vampires_Ankhesenamun.jpg" alt="Twilight header image">
    </div>
    <h1>How well do you know Twilight?</h1>

    <div class="question" id="question1">
        <h2>What town did Bella move to?</h2>
        <button>Spoons</button>
        <button>Kingston</button>
        <button class="correct">Forks</button>
    </div> 

    <div class="question" id="question2">
        <h2>What was Edward’s first reaction to Bella?</h2>
        <button>Curiosity</button>
        <button>Disgust</button>
        <button class="correct">Attraction</button>
    </div>

    <div class="question" id="question3">
        <h2>Who played Edward in the Twilight series?</h2>
        <button>Ian Somerhalder</button>
        <button>Taylor Lautner</button>
        <button class="correct">Robert Pattison</button>
    </div>

    <div class="question" id="question4">
        <h2>What subject do Edward and Bella study together in the first movie?</h2>
        <button>Botany</button>
        <button>Dance</button>
        <button class="correct">Chemistry</button>
    </div>

    <div class="question" id="question5">
        <h2>What is Bella’s childhood friend’s name?</h2>
        <button>Sam</button>
        <button class="correct">Jacob</button>
        <button>Jasper</button>
    </div>

    <p>Score: <span class="score-element">0</span></p>
    <script>
        let questions = document.querySelectorAll(".question");
        //Selected all button
        // let myButtons = document.querySelectorAll("button");


        //Select my score element
        let scoreElement = document.querySelector(".score-element");
        

        //create score tracker
        let score = 0;

        let currentQuestionIndex = 0;

        //let question;

        function disableButtons(question) {

            // let currentButtons = question.querySelectorAll("button");
            let buttons  = question.querySelectorAll("button");
            buttons.forEach(button => button.disabled = true);
            //for each button
            // for (let button of currentButtons) {
            //     button.disabled = true;
            // }
            //disable it

        }

        function showNextQuestion() {
            questions[currentQuestionIndex].classList.remove("active");
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                questions[currentQuestionIndex].classList.add("active");
            } else {
                // All questions answered
                document.querySelector('.final-score').innerText = `You have scored ${score} points!`;
                document.querySelector('.final-score').style.display = 'block';
            }
        }
        
        
        function checkAnswer(event) {
            let button = event.target;
            let question = button.parentElement;
            let isCorrect = button.classList.contains("correct");

            button.classList.add("clicked");

            if (isCorrect){
                // adds 1
                score++;
                scoreElement.innerText = score;
            }
            
            disableButtons(question);

            setTimeout(showNextQuestion, 1000);
        }


        //for each button
    //     for (button of myButtons) {
    //         console.log(button);

    //         //When clicked, checkAnswer
    //         button.onclick = checkAnswer;


    //         // button.style.background = "red";
    //    }
        let buttons = document.querySelectorAll("button");
        buttons.forEach(button => button.addEventListener('click', checkAnswer));
        questions[currentQuestionIndex].classList.add("active");
    </script>
    
</body>
</html>